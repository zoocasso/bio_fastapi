<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{url_for('static',path='/style.css')}}" rel="stylesheet">
    <title>Upload & Select User</title>
</head>
<body>
    <h1>Upload vcf & Select User</h1>
    <h3>Upload vcf file (업로드 기능 추가 예정)</h3>
    <div id ='upload_div'>
        <form enctype="multipart/form-data">
            <input id="upload_file" type="file" disabled>
            <input id="upload_btn" type="submit" disabled>
        </form>
    </div>

    <h3>User List (click button)</h3>
    <div id ='user_div'>
        <form class="user_form" action="/disease_trait">
            <input type="submit" name="user" value="SRR062634">
        </form>
        <form class="user_form" action="/disease_trait">
            <input type="submit" name="user" value="petra">
        </form>
    </div>
    <script>
        const upload_btn = document.querySelector("#upload_btn")
        const upload_file = document.querySelector("#upload_file")
        function click_upload_btn(e){
            e.preventDefault()
            
            var formdata = new FormData();
            formdata.append('file', upload_file.files[0])

            fetch('/uploadfile/',{
                method:'POST',
                body:formdata,
            })
            .then((response) => console.log(response.json()))
            .then(data => console.log(data))
        };
        upload_btn.addEventListener("click",click_upload_btn)
    </script>
</body>
</html>